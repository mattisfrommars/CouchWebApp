@(title: String, user: Option[domain.User] = None,scripts: Html = Html(""))(content: Html)(implicit request: RequestHeader, messages: Messages, webJarAssets: WebJarAssets)

<!DOCTYPE html>

<html>
    <head>
        <title>@title</title>
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
        <link rel="stylesheet" href="@routes.Assets.at("stylesheets/bootstrap.min.css")">
            <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
            <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
            <![endif]-->

    </head>
    <body>
        <header class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">@Messages("toggle.navigation")</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="@routes.Application.index">Couch</a>
                </div>
                <nav class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="@routes.Application.index">@Messages("home")</a></li>
                        <li><a href="@routes.SpecialityController.index()">@Messages("header.specialties")</a></li>
                        <li><a href="@routes.ProfessionalController.index()">@Messages("header.doctors")</a></li>
                        <li><a href="@routes.PartnerController.index()">@Messages("header.partner")</a></li>
                        <li><a href="@routes.Application.about">@Messages("header.about")</a></li>
                        <li><a href="@routes.Application.contact">@Messages("header.contact")</a></li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                    @user.map { u =>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">@u.firstName <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            @if(u.roleId == Some(1l)) {
                                <li><a href="@routes.Admin.listSpecialities()">@messages("admin.home.nav.dropdown.specialities.title")</a></li>
                                <li><a href="@routes.Admin.listSpecialitiesApplications()">@messages("admin.home.nav.dropdown.professionals.title")</a></li>
                                <li><a href="@routes.SessionController.sessionsForAdmin()">@messages("admin.home.nav.dropdown.sessions.title")</a></li>
                                <li><a href="@routes.Admin.listPartnerApplication()">@messages("admin.home.nav.dropdown.partner.title")</a></li>
                            } else {
                                @if(u.roleId == Some(2l)) {
                                    <li><a href="@routes.AgendaController.index()">@messages("professional.nav.dropdown.agenda")</a></li>
                                    <li><a href="@routes.ProfessionalController.listApplicationExpertise()">@messages("professional.nav.dropdown.applications")</a></li>
                                    <li><a href="@routes.SessionController.sessionsForProfessional()">@messages("professional.nav.dropdown.sessions")</a></li>
                                    <li><a href="@routes.ProfessionalController.professionalProfile()">@messages("professional.nav.dropdown.profile")</a></li>
                                } else {
                                    <li><a href="@routes.SessionController.sessions()">@messages("customer.nav.dropdown.sessions")</a></li>
                                }
                            }
                        <li role="separator" class="divider"></li>
                            @if(u.loginInfo.providerID == com.mohiva.play.silhouette.impl.providers.CredentialsProvider.ID) {
                                <li><a href="@routes.ChangePasswordController.view">@Messages("change.password")</a></li>
                            }
                        <li><a href="@routes.Application.signOut">@Messages("sign.out")</a></li>
                        </ul>
                    </li>
                    }.getOrElse {
                        <li><a href="@routes.SignInController.view">@Messages("sign.in")</a></li>
                        <li><a href="@routes.SignUpController.view">@Messages("sign.up")</a></li>
                    }
                    </ul>
                </nav>
            </div>
        </header>
        @request.flash.get("error").map { msg =>
            <div class="col-md-6 col-md-offset-3 alert alert-danger">
                <a href="#" class="close" data-dismiss="alert">&times;</a>
                <strong>@Messages("error")</strong> @msg
            </div>
        }
        @request.flash.get("info").map { msg =>
            <div class="col-md-6 col-md-offset-3 alert alert-info">
                <a href="#" class="close" data-dismiss="alert">&times;</a>
                <strong>@Messages("info")</strong> @msg
            </div>
        }
        @request.flash.get("success").map { msg =>
            <div class="col-md-6 col-md-offset-3 alert alert-success">
                <a href="#" class="close" data-dismiss="alert">&times;</a>
                <strong>@Messages("success")</strong> @msg
            </div>
        }
        @content
        <script src="@routes.Assets.at("javascripts/jquery-1.9.0.min.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/bootstrap.min.js")" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/zxcvbn/4.2.0/zxcvbn.js"></script>
        <script src="@routes.Assets.at("javascripts/zxcvbnShim.js")"></script>
        <script src="@routes.Assets.at("javascripts/moment.js")"></script>
        <script src="@routes.Assets.at("javascripts/moment-timezone.js")"></script>
        <script src="https://static.opentok.com/v2/js/opentok.min.js"></script>
        <script type="text/javascript">
            $(function(){
                if (!document.cookie.indexOf("timezone") >= 0) {
                    // set a new cookie
                    expiry = new Date();
                    expiry.setTime(expiry.getTime()+(10*60*1000)); // Ten minutes
                    // Date()'s toGMTSting() method will format the date correctly for a cookie
                    document.cookie = "timezone="+moment.tz.guess()+"; expires=" + expiry.toGMTString();
                }
            });
        </script>
        @scripts
    </body>
</html>
